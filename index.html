<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BART Elevator Status</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/css/bootstrap.min.css">
</head>
<body>
  <div class="container mt-5 text-center">
    <h1>BART Elevator Status</h1>
    <p>This website displays the current elevator status for BART stations.</p>
    <button class="btn btn-primary" onclick="checkElevatorStatus()">Check Elevator Status</button>
    <div id="elevatorStatus" class="mt-3"></div>
  </div>

  <script>
    function checkElevatorStatus() {
      const apiKey = "MW9S-E7SL-26DU-VV8V";
      const apiUrl = `https://api.bart.gov/api/bsa.aspx?cmd=elev&json=y&key=${apiKey}`;

      fetch(apiUrl)
        .then(response => response.json())
        .then(data => {
          const elevatorStatusElement = document.getElementById('elevatorStatus');
          const allElevatorStatus = data.root.bsa;

          if (allElevatorStatus.length > 0) {
            const message = allElevatorStatus[0].description['#cdata-section'];
            elevatorStatusElement.innerHTML = `<p><strong>Elevator Status:</strong> ${message}</p>`;
          } else {
            elevatorStatusElement.innerHTML = `<p><strong>Elevator Status:</strong> No information available.</p>`;
          }
        })
        .catch(error => {
          console.error('Error fetching elevator status:', error);
          const elevatorStatusElement = document.getElementById('elevatorStatus');
          elevatorStatusElement.innerHTML = `<p><strong>Elevator Status:</strong> Failed to retrieve status.</p>`;
        });
    }
  </script>

  <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
</body>
</html>
