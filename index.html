<script>
  // Fetch elevator status using BART API
  const apiKey = "MW9S-E7SL-26DU-VV8V"; // Replace with your actual BART API key
  const apiUrl = `https://api.bart.gov/api/bsa.aspx?cmd=elev&key=${apiKey}&json=y`;

  // Function to display elevator status
  function displayElevatorStatus() {
    fetch(apiUrl)
      .then(response => response.json())
      .then(data => {
        // Check if there are elevator status messages available
        if (data.root && data.root.bsa && data.root.bsa.length > 0) {
          const elevatorStatusElement = document.getElementById('elevator-status');
          const statusMessage = data.root.bsa[0].description; // Assuming elevator status is provided as a description
          elevatorStatusElement.innerHTML = `<h2>Elevator Status:</h2><p>${statusMessage}</p>`;
        } else {
          throw new Error('No elevator status available.');
        }
      })
      .catch(error => {
        console.error('Error fetching elevator status:', error);
        const elevatorStatusElement = document.getElementById('elevator-status');
        elevatorStatusElement.innerHTML = `<h2>Elevator Status:</h2><p>Failed to retrieve elevator status.</p>`;
      });
  }

  // Call displayElevatorStatus function when the page is loaded
  window.addEventListener('load', displayElevatorStatus);
</script>
